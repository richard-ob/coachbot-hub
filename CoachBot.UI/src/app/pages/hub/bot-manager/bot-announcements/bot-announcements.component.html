<div *ngIf="!isLoading" class="card">
    <div class="card__header card__header--has-btn">
        <h4>Announcement</h4>
    </div>
    <div class="card__content">
        <div class="form-group">
            <label class="required">Title</label>
            <input type="text" class="form-control" name="title" required [(ngModel)]="announcement.title">
        </div>
        <div class="form-group">
            <label class="required">Message</label>
            <textarea class="form-control" name="message" required [(ngModel)]="announcement.message">
            </textarea>
        </div>
        <div class="form-group">
            <label>Region</label>
            <select name="region" class="form-control" [(ngModel)]="announcement.regionId">
                <option *ngFor="let region of regions" [ngValue]="region.regionId">
                    {{region.regionName}}
                </option>
            </select>
        </div>
        <button [disabled]="isSending || !announcement.message || !announcement.title" type="button"
            class="btn btn-primary float-right" (click)="sendAnnouncement()">
            <i *ngIf="isSending" class="fas fa-circle-notch fa-spin"></i>&nbsp;Send
        </button>
    </div>
</div>
<app-spinner *ngIf="isLoading"></app-spinner>