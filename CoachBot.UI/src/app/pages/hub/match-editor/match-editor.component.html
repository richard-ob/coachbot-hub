<div class="container py-4">
    <div class="card">
        <div class="card__header">
            <h4>Match Editor</h4>
        </div>
        <div class="card__content">
            <ng-container *ngIf="!isLoading; else spinner">
                <div class="form-group col-md-6">
                    <label>Scheduled Kick Off</label>
                    <div class="form-control-static mb-2">
                        {{match.kickOff | date:'full'}}
                        <button type="button" class="btn btn-primary btn-xs ml-2"
                            (click)="showDatepicker = !showDatepicker">
                            Edit
                        </button>
                    </div>
                    <div *ngIf="showDatepicker" class="border rounded px-4 pt-4">
                        <dl-date-time-picker startView="day" maxView="year" minView="minute" minuteStep="15"
                            [(ngModel)]="match.kickOff">
                        </dl-date-time-picker>
                    </div>
                </div>

                <div class="form-group">
                    <label>Server</label>
                    <select [(ngModel)]="match.serverId" name="server" class="form-control">
                        <option *ngFor="let server of servers" [ngValue]="server.id">{{server.name}}</option>
                    </select>
                </div>

                <button class="btn btn-primary" (click)="updateMatch()" type="button">Save</button>
            </ng-container>
            <ng-template #spinner>
                <app-spinner></app-spinner>
            </ng-template>
        </div>
    </div>
    <app-match-data-uploader *ngIf="match" [matchId]="match.id"></app-match-data-uploader>
</div>